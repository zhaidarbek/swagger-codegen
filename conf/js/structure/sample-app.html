<!DOCTYPE html>
<html>

<head>
    <title>Dynabic Javascript Lib Sandbox</title>
    <script src="lib/jquery-1.6.4.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/jquery-ui-1.8.14.custom.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="dist/common.js" type="text/javascript" charset="utf-8"></script>
    <script src="dist/CustomersAPI.js" type="text/javascript" charset="utf-8"></script>

    <script type="text/javascript" charset="utf-8">
		function log(s) {
			if(window.console) console.log(s);
		}

		function logResponse(event) {
			log("-----------------------------");
			log(event.type);
			log(event);
		}

		function onCustomerCreated(event) {
			logResponse(event);

			// delete the created customer
		}

		var privateKey = "<PASTE_HERE>";
		var clientKey = "<PASTE_HERE>";
		var apiServer = "http://stage-api.dynabic.com/billing/";

		ApiInvoker.init(apiServer, privateKey, clientKey, true);

		ApiInvoker.addListener(CustomersAPI.event_GetCustomer, logResponse);
		ApiInvoker.addListener(CustomersAPI.event_AddCustomer, onCustomerCreated);

		// Get some data
		CustomersAPI.GetCustomer("14", function(){
			log(response);
		});

		// Add customer
		// var postData = new CustomerRequest();
		// postData.first_name = "John";
		// postData.last_name = "Doe";
		// postData.email = "hopefullysome@nonexisting.email";
		// CustomersAPI.AddCustomer("test", postData, function(){
			// log(response);
		// });

	</script>
<body>
</body>

